# Kanshi configuration for Hyprland laptop docking
# Save this file as ~/.config/kanshi/config

# Profile for when external monitor is connected (docked)
# Replace "External-Monitor-Name" with your actual external monitor name
# Replace "eDP-1" with your actual laptop screen name if different
# profile docked1 {
#     output "DP-6" enable
#     output "eDP-1" disable
# }

profile framework_docked {
    # output "DP-5" enable
    output "DP-5" enable mode 1920x1080@120.00Hz position 0,0 scale 1.0
    # output "DP-5" enable mode 2560x1440@143.97Hz position 0,0 scale 1.0
    output "eDP-1" disable
    exec ~/.config/kanshi/docked-setup.sh
}

# Profile for when only laptop screen is available (undocked)
profile framework_undocked {
    # output "eDP-1" enable
    # output "eDP-1" enable mode 2880x1920@120.00000Hz position 0,0 scale 2.0
    # output "eDP-1" {
    #     enable
    #     position 0,0
    #     scale 1.5
    # }
    # CRITERIA: Matches the unique description of the Framework's panel.
    output "BOE NE135A1M-NY1 Unknown" {
        enable
        # Use the specific mode found in the hyprctl output
        mode 2880x1920@120.00Hz
        position 0,0
        scale 1.0
    }
    exec ~/.config/kanshi/undocked-setup.sh
}


# Profile for ThinkPad when external monitor is connected (Docked)
profile thinkpad_docked {
    # Requires both DP-2 and eDP-1 to be connected for this profile to be considered
    output "DP-2" enable mode 1920x1080@120.00Hz position 0,0 scale 1.0
    output "eDP-1" disable
    exec ~/.config/kanshi/docked-setup.sh
}

# Profile for ThinkPad when only laptop screen is available (Undocked)
profile thinkpad_undocked {
    # Only requires eDP-1 to be connected for this profile to be considered
    output "AU Optronics 0x103D Unknown" {
        enable
        # Use the specific mode we found to ensure maximum reliability
        mode 1920x1080@60.01Hz
        position 0,0
        scale 1.5
    }
    exec ~/.config/kanshi/undocked-setup.sh
}
